# Terraform Guardrail MCP (TerraGuard) Wiki

Terraform Guardrail MCP (TerraGuard) (Model Context Protocol) is an enterprise-grade IaC governance
and guardrail platform that enforces architectural intent, compliance, and platform standards
directly inside CI/CD. It runs outside Terraform, exposes provider context, and enforces guardrails
that prevent bad state before apply.

## Quick Install

```bash
pip install terraform-guardrail
```

```bash
brew install Huzefaaa2/tap/terraform-guardrail
```

```powershell
choco install terraform-guardrail
```

## Licensing

Terraform-Guardrail is licensed under **Business Source License (BSL) 1.1** with a change
date to Apache 2.0. Commercial usage requires explicit permission.

- Licensing details: [Licensing](Licensing)

## Terraform-Guardrail MCP (TerraGuard)

**Making Infrastructure Governance Executable**

## The Problem Weâ€™re Solving

Despite using Terraform and security scanners, enterprises still face:

- Inconsistent enforcement across teams
- Policies applied too late in delivery
- Manual reviews that donâ€™t scale
- Different interpretations of â€œstandardsâ€
- Audit findings caused by drift, not intent

ðŸ‘‰ The issue is not lack of tools â€”  
ðŸ‘‰ The issue is lack of a governance distribution mechanism.

## What Terraform-Guardrail MCP Is

Terraform-Guardrail MCP is an enterprise-grade IaC governance and guardrail platform for Terraform
that enforces architectural intent, compliance, and platform standards directly in CI/CD.

It:

- Establishes a non-negotiable safety floor
- Distributes guardrails consistently via CI/CD
- Enables progressive enforcement (Advisory â†’ Warn â†’ Strict)
- Makes governance versioned, auditable, and repeatable

Governance becomes code, not documents.

## Where It Fits (Ecosystem View)

| Layer | Role |
| --- | --- |
| Terraform-Guardrail MCP | Governance & enforcement orchestration |
| Checkov / tfsec / Terrascan | Deep static security & compliance scanning |
| OPA / Sentinel | Advanced & runtime policy enforcement |
| CI/CD (GitLab/GitHub) | Execution & control point |

Terraform-Guardrail does not replace existing tools â€” it connects and operationalizes them.

## How It Works (In One Line)

Every Terraform change passes through the same guardrails, before it ever reaches the cloud.

Implemented at:

- Merge request / pull request stage
- GitLab group-level CI enforcement
- No per-repo negotiation

## Enterprise Adoption Model

| Phase | Mode | Business Outcome |
| --- | --- | --- |
| Phase 1 | Advisory | Visibility, zero disruption |
| Phase 2 | Warn | Accountability without blocking |
| Phase 3 | Strict | Mandatory compliance for prod |

âœ” No â€œbig-bangâ€ rollout  
âœ” Teams keep autonomy above the safety floor

## Why Enterprises Adopt Terraform-Guardrail

Without it:

- Governance relies on people & process
- Controls drift over time
- Audit remediation is expensive

With it:

- Governance is automatic and consistent
- Security shifts left into CI
- Audit evidence is generated by default
- Platform teams scale without becoming bottlenecks

## Bottom Line (Executive Takeaway)

Terraform-Guardrail MCP turns infrastructure governance  
from guidelines into guarantees.

It enables speed and safety â€” without trading one for the other.

## Design Principle

Non-negotiable safety floor, composable freedom above it. Guardrails live outside Terraform so
platform teams can enforce baseline invariants while product teams retain agility.

## User Perspective (High-Level)

```mermaid
flowchart LR
    USER[Platform + Product Teams] --> CHANNELS[CLI / UI / REST API / CI]
    CHANNELS --> GUARDRAIL[TerraGuard Control Plane]
    GUARDRAIL --> POLICIES[Baseline + Context Policies]
    GUARDRAIL --> REPORTS[Guidance + Evidence]
    GUARDRAIL --> TERRAFORM[Safer Terraform Applies]

    classDef actor fill:#e3f2fd,stroke:#1565c0,stroke-width:1px,color:#0d47a1;
    classDef channel fill:#f3e5f5,stroke:#6a1b9a,stroke-width:1px,color:#4a148c;
    classDef core fill:#e8f5e9,stroke:#2e7d32,stroke-width:1px,color:#1b5e20;
    classDef output fill:#fff3e0,stroke:#ef6c00,stroke-width:1px,color:#e65100;

    class USER actor;
    class CHANNELS channel;
    class GUARDRAIL,POLICIES core;
    class REPORTS,TERRAFORM output;
```

## Quick links

- [Roadmap](Roadmap)
- [Deliverables Reference](Deliverables)
- [Enterprise Implementation Plan](Implementation-Plan)
- [Enterprise Features](Enterprise-Features)
- [Examples](Examples)
- [AWS Support](AWS-Support)
- [AWS CodePipeline](AWS-CodePipeline)
- [Architecture](Architecture)
- [Diagrams](Diagrams)
- [Comparison with Other Tools](Comparison)
- [CLI Usage](CLI-Usage)
- [Command Reference](https://github.com/Huzefaaa2/terraform-guardrail/blob/main/commands.md)
- [Custom Rules](Custom-Rules)
- [GitHub Action](GitHub-Action)
- [GitLab CI Templates](GitLab-CI)
- [Packaging](Packaging)
- [Licensing](Licensing)
- [MCP Server](MCP-Server)
- [Compliance Rules](Compliance-Rules)
- [Streamlit Deployment](Streamlit-Deployment)
- [Docker Compose Stack](Docker-Compose)
- [Live Streamlit App](https://terraform-guardrail.streamlit.app/)
- [PyPI Package](https://pypi.org/project/terraform-guardrail/)
- [Release Process](Release-Process)

## Latest Release

- Version: 1.0.4
- Container image: https://github.com/Huzefaaa2/terraform-guardrail/pkgs/container/terraform-guardrail
- Registry image: https://github.com/Huzefaaa2/terraform-guardrail/pkgs/container/terraform-guardrail-registry
- Supported providers: AWS, Azure, GCP, Kubernetes, Helm, OCI, Vault, Alicloud, vSphere
- Local stack: Docker Compose (API + UI + policy registry, optional analytics)
- Policy registry: OPA bundles published under `/bundles/*.tar.gz` (registry path; sample bundles:
  https://github.com/Huzefaaa2/terraform-guardrail/tree/main/ops/policy-registry/bundles)
- Policy evaluation available via CLI when OPA is installed

## Feature Matrix

| Area | CLI | Web UI / Streamlit |
| --- | --- | --- |
| Config scan (`.tf`, `.tfvars`, `.hcl`) | Yes | Yes |
| State leak scan (`.tfstate`) | Yes | Yes |
| Schema-aware validation | Yes | Yes |
| CSV export | No | Yes |
| Provider metadata | Yes | Yes |
| Snippet generation | Yes | No |
| Multi-file scan | Yes (directory) | Yes (upload up to 10) |
